let fetch,Headers;_c35‍.x([["fetchRestaurantViaV2TextSearch",()=>fetchRestaurantViaV2TextSearch]]);_c35‍.w("dotenv/config");_c35‍.w("node-fetch",[["default",["fetch"],function(v){fetch=v}],["Headers",["Headers"],function(v){Headers=v}]]);

const GOOGLE_PLACES_API_KEY = process.env.GOOGLE_PLACES_API_KEY

       async function fetchRestaurantViaV2TextSearch() {
    const BASE_URL = "https://places.googleapis.com/v1/places:searchText"

    const requestHeader = new Headers({
        'Content-Type': 'application/json',
        'X-Goog-FieldMask': 'places.id',
        'X-Goog-Api-Key': GOOGLE_PLACES_API_KEY
    })

    const requestBody = {
        textQuery: "市ヶ谷周辺のレストラン",
        languageCode: "ja",
        maxResultCount: 20,
        // includedType: "", 定義された指定タイプに一致する場所のみに結果を制限
        // strictTypeFiltering: boolean,
        // priceLevels: [], 価格帯 UNSPECIFIED/INEXPENSIVE/MODERATE/EXPENSIVE/VERY_EXPENSIVE
    }

    try {
        const rawResponse = await fetch(`${BASE_URL}`, {
            method: "POST",
            headers: requestHeader,
            body: JSON.stringify(requestBody)
        })

        const response = await rawResponse.json()

        _c35‍.g.console.log(response)
    } catch (error) {
        _c35‍.g.console.log(error)
    }
};